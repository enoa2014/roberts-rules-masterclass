<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ä½ ä¸€ç”Ÿçš„æ•…äº‹ - äº’åŠ¨å­¦ä¹ å¹³å°</title>
  <meta name="description" content="ã€Šä½ ä¸€ç”Ÿçš„æ•…äº‹ã€‹äº’åŠ¨å­¦ä¹ å¹³å° - æ¢ç´¢è¯­è¨€ã€æ—¶é—´ä¸é€‰æ‹©çš„å“²å­¦">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700&family=Noto+Serif+SC:wght@400;600&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="../css/style.css">
  <link rel="stylesheet" href="../css/story-theme.css">
  <link rel="stylesheet" href="../css/story-linguistics.css">
  <link rel="stylesheet" href="../css/characters.css">
</head>

<body class="story-theme">
  <header class="header">
    <div class="header-left">
      <a href="../index.html" class="back-btn" title="è¿”å›ä¹¦æŸœ">ğŸ“š</a>
      <span class="logo" id="runtimeLogo">ğŸ”®</span>
      <h1 class="site-title" id="runtimeTitle">ä½ ä¸€ç”Ÿçš„æ•…äº‹</h1>
    </div>
    <div class="header-right">
      <button class="btn-icon" id="themeToggle" aria-label="åˆ‡æ¢ä¸»é¢˜">
        <span class="icon-sun">â˜€ï¸</span>
        <span class="icon-moon">ğŸŒ™</span>
      </button>
    </div>
  </header>

  <main class="main-content" id="runtimeMain">
    <section class="view-panel active">
      <div class="loading">åˆå§‹åŒ–ä¸­...</div>
    </section>
  </main>

  <nav class="tab-bar" id="runtimeTabBar"></nav>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/cytoscape/3.28.1/cytoscape.min.js"></script>
  <script type="module">
    import { BookRuntime } from '../js/core/book-runtime.js';

    const runtime = new BookRuntime({
      registryUrl: '../data/story-of-your-life/registry.json'
    });

    runtime.start().catch((err) => {
      console.error(err);
      const main = document.getElementById('runtimeMain');
      if (main) {
        main.innerHTML = '<section class="view-panel active"><div class="loading">é¡µé¢åˆå§‹åŒ–å¤±è´¥ï¼Œè¯·æŸ¥çœ‹æ§åˆ¶å°</div></section>';
      }
    });
  </script>
</body>

</html>