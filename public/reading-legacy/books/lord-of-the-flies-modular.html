<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è‡ç‹ Lord of the Flies - é˜…è¯»èŠ±å›­</title>
    <meta name="description" content="ã€Šè‡ç‹ã€‹æ·±åº¦é˜…è¯»ä¸æ•™å­¦ - æ–‡æ˜ä¸é‡è›®çš„æ°¸æ’å¯¹è¯">
    <link
        href="https://fonts.googleapis.com/css2?family=Bitter:wght@400;700&family=Source+Sans+3:wght@400;600&family=Literata:ital,wght@0,400;1,400&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/lotf-theme.css">
</head>

<body class="lotf-theme lotf-modular-page">
    <header class="header">
        <div class="header-left">
            <a href="../index.html" class="back-btn" title="è¿”å›ä¹¦æŸœ">ğŸ“š</a>
            <span class="logo" id="runtimeLogo">ğŸš</span>
            <h1 class="site-title" id="runtimeTitle">è‡ç‹</h1>
        </div>
        <div class="header-right">
            <button class="btn-icon" id="themeToggle" aria-label="åˆ‡æ¢ä¸»é¢˜">
                <span class="icon-sun">â˜€ï¸</span>
                <span class="icon-moon">ğŸŒ™</span>
            </button>
        </div>
    </header>

    <main class="main-content" id="runtimeMain">
        <section class="view-panel active">
            <div class="loading">æ­£åœ¨åŠ è½½ã€Šè‡ç‹ã€‹...</div>
        </section>
    </main>

    <nav class="tab-bar" id="runtimeTabBar"></nav>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/cytoscape/3.28.1/cytoscape.min.js"></script>
    <script type="module">
        import { BookRuntime } from '../js/core/book-runtime.js';

        const runtime = new BookRuntime({
            registryUrl: '../data/lord-of-the-flies/registry.json'
        });

        runtime.start().catch((err) => {
            console.error(err);
            const main = document.getElementById('runtimeMain');
            if (main) {
                main.innerHTML = '<section class="view-panel active"><div class="loading">é¡µé¢åˆå§‹åŒ–å¤±è´¥ï¼Œè¯·æŸ¥çœ‹æ§åˆ¶å°</div></section>';
            }
        });
    </script>
</body>

</html>